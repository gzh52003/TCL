(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-caa75930"],{2381:function(e,t,n){},"3c32":function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("2381")},"417e":function(e,t,n){"use strict";var i=n("d282"),a=n("ad06"),s=n("78eb"),c=n("9884"),r=n("ea8e"),o=function(e){var t=e.parent,n=e.bem,i=e.role;return{mixins:[Object(c["a"])(t),s["a"]],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var e=this.checkedColor||this.parent&&this.parent.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}},tabindex:function(){return this.isDisabled||"radio"===i&&!this.checked?-1:0}},methods:{onClick:function(e){var t=this,n=e.target,i=this.$refs.icon,a=i===n||i.contains(n);this.isDisabled||!a&&this.labelDisabled?this.$emit("click",e):(this.toggle(),setTimeout((function(){t.$emit("click",e)})))},genIcon:function(){var e=this.$createElement,t=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return e("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:t}]),style:{fontSize:Object(r["a"])(i)}},[this.slots("icon",{checked:t})||e(a["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var e=this.$createElement,t=this.slots();if(t)return e("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[t])}},render:function(){var e=arguments[0],t=[this.genIcon()];return"left"===this.labelPosition?t.unshift(this.genLabel()):t.push(this.genLabel()),e("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[t])}}},l=Object(i["a"])("checkbox"),u=l[0],d=l[1];t["a"]=u({mixins:[o({bem:d,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(e){this.parent?this.setParentValue(e):this.$emit("input",e)}}},watch:{value:function(e){this.$emit("change",e)}},methods:{toggle:function(e){var t=this;void 0===e&&(e=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){t.checked=e}))},setParentValue:function(e){var t=this.parent,n=t.value.slice();if(e){if(t.max&&n.length>=t.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),t.$emit("input",n))}else{var i=n.indexOf(this.name);-1!==i&&(n.splice(i,1),t.$emit("input",n))}}}})},"78eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={inject:{vanField:{default:null}},watch:{value:function(){var e=this.vanField;e&&(e.resetValidation(),e.validateWithTrigger("onChange"))}},created:function(){var e=this.vanField;e&&!e.children&&(e.children=this)}}},"7f9a4":function(e,t,n){},"8e71":function(e,t,n){"use strict";var i=n("7f9a4"),a=n.n(i);a.a},a55b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"用户中心","left-text":"返回","left-arrow":""},on:{"click-left":e.onClickLeft}}),n("van-form",{staticStyle:{"padding-top":"100px"},attrs:{"validate-first":""},on:{failed:e.onFailed}},[n("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),n("van-field",{attrs:{label:"密码",placeholder:"请输入密码",rules:[{message:"用户名或密码错误"}]},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),n("van-field",{attrs:{name:"checkbox",label:"7天免登录"},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-checkbox",{attrs:{shape:"square"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})]},proxy:!0}])}),n("van-field",{staticStyle:{width:"300px"},attrs:{label:"验证码",placeholder:"请输入验证码"},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}}),n("span",{ref:"vcode",staticClass:"span1",staticStyle:{width:"100px"},on:{click:e.change}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.submit}},[e._v("登录")])],1)],1)],1)},a=[],s=(n("d3b7"),n("9a83"),n("f564")),c=(n("96cf"),n("1da1")),r=(n("e7e5"),n("d399")),o=(n("38d5"),n("772a")),l=(n("be7f"),n("565f")),u=(n("3c32"),n("417e")),d=n("2b0e");d["a"].use(u["a"]),d["a"].use(l["a"]),d["a"].use(o["a"]);var h={data:function(){return{checkbox:!1,value1:"",value2:"",value3:"",pattern:/\w{6,12}/}},methods:{onClickLeft:function(){this.$router.go(-1)},asyncValidator:function(e){var t=this;return new Promise((function(n){r["a"].loading("验证中..."),setTimeout((function(){r["a"].clear(),n(t.$request.get("mongoUser/check",{params:{username:e}}))}),1e3)}))},onFailed:function(e){console.log("failed",e)},change:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("vcode");case 2:n=t.sent,i=n.data,e.$refs.vcode.innerHTML=i.data;case 5:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a,c,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.value1,i=e.value2,a=e.checkbox,c=e.value3,t.next=6,e.$request.post("/mongoUser/login",{username:n,password:i,checked:a,vcode:c});case 6:if(r=t.sent,o=r.data,3!==o.code){t.next=12;break}return Object(s["a"])({type:"danger",message:"验证码错误"}),e.change(),t.abrupt("return");case 12:if(1!=o.code){t.next=18;break}localStorage.setItem("currentUser",JSON.stringify(o.data)),Object(s["a"])({type:"success",message:"登录成功"}),e.$router.push("/mine"),t.next=21;break;case 18:if(2!=o.code){t.next=21;break}return Object(s["a"])({type:"danger",message:"用户名或者密码错误"}),t.abrupt("return");case 21:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("vcode");case 2:n=t.sent,i=n.data,e.$refs.vcode.innerHTML=i.data;case 5:case"end":return t.stop()}}),t)})))()}},f=h,b=(n("8e71"),n("2877")),v=Object(b["a"])(f,i,a,!1,null,"583b1c51",null);t["default"]=v.exports},b258:function(e,t,n){},be7f:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("1146")},d399:function(e,t,n){"use strict";var i=n("c31d"),a=n("2b0e"),s=n("d282"),c=n("a142"),r=0;function o(e){e?(r||document.body.classList.add("van-toast--unclickable"),r++):(r--,r||document.body.classList.remove("van-toast--unclickable"))}var l=n("6605"),u=n("ad06"),d=n("543e"),h=Object(s["a"])("toast"),f=h[0],b=h[1],v=f({mixins:[Object(l["a"])()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var e=this.value&&this.forbidClick;this.clickable!==e&&(this.clickable=e,o(e))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var e=this.$createElement,t=this.icon,n=this.type,i=this.iconPrefix,a=this.loadingType,s=t||"success"===n||"fail"===n;return s?e(u["a"],{class:b("icon"),attrs:{classPrefix:i,name:t||n}}):"loading"===n?e(d["a"],{class:b("loading"),attrs:{type:a}}):void 0},genMessage:function(){var e=this.$createElement,t=this.type,n=this.message;if(Object(c["c"])(n)&&""!==n)return"html"===t?e("div",{class:b("text"),domProps:{innerHTML:n}}):e("div",{class:b("text")},[n])}},render:function(){var e,t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[b([this.position,(e={},e[this.type]=!this.icon,e)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),p=n("092d"),m={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},g={},k=[],x=!1,y=Object(i["a"])({},m);function O(e){return Object(c["e"])(e)?e:{message:e}}function C(e){return document.body.contains(e)}function $(){if(c["g"])return{};if(k=k.filter((function(e){return C(e.$el)})),!k.length||x){var e=new(a["a"].extend(v))({el:document.createElement("div")});e.$on("input",(function(t){e.value=t})),k.push(e)}return k[k.length-1]}function w(e){return Object(i["a"])({},e,{overlay:e.mask||e.overlay,mask:void 0,duration:void 0})}function S(e){void 0===e&&(e={});var t=$();return t.value&&t.updateZIndex(),e=O(e),e=Object(i["a"])({},y,g[e.type||y.type],e),e.clear=function(){t.value=!1,e.onClose&&e.onClose(),x&&!c["g"]&&t.$on("closed",(function(){clearTimeout(t.timer),k=k.filter((function(e){return e!==t})),Object(p["a"])(t.$el),t.$destroy()}))},Object(i["a"])(t,w(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout((function(){t.clear()}),e.duration)),t}var j=function(e){return function(t){return S(Object(i["a"])({type:e},O(t)))}};["loading","success","fail"].forEach((function(e){S[e]=j(e)})),S.clear=function(e){k.length&&(e?(k.forEach((function(e){e.clear()})),k=[]):x?k.shift().clear():k[0].clear())},S.setDefaultOptions=function(e,t){"string"===typeof e?g[e]=t:Object(i["a"])(y,e)},S.resetDefaultOptions=function(e){"string"===typeof e?g[e]=null:(y=Object(i["a"])({},m),g={})},S.allowMultiple=function(e){void 0===e&&(e=!0),x=e},S.install=function(){a["a"].use(v)},a["a"].prototype.$toast=S;t["a"]=S},e7e5:function(e,t,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("b258")}}]);
//# sourceMappingURL=chunk-caa75930.137a4224.js.map